////////////////////////////////////////////////////////////////////////////////
//
//	Author: Sergio Alapont Granero (seralgrainf@gmail.com)
//	Date: 	2018/09/26
//	File: 	GfMaterial.cpp
//
//	Copyright (c) 2018 (See README.md)
//
////////////////////////////////////////////////////////////////////////////////
// Includes

#include "GfRender/Common/GfMaterial.h"

////////////////////////////////////////////////////////////////////////////////
// MaterialTemplate

GfMaterialTemplate::GfMaterialTemplate()
	: GfMaterialTemplate_Platform(*this)
	, m_uiFlags(0)
{
	for (u32 i = 0; i < EMaterialParamRate::MaxBoundSets; ++i)
	{
		m_pLayouts[i] = nullptr;
	}
}

////////////////////////////////////////////////////////////////////////////////

void GfMaterialTemplate::Create(const GfRenderContext& kCtx)
{
	CreateRHI(kCtx);
}

////////////////////////////////////////////////////////////////////////////////

void GfMaterialTemplate::Destroy(const GfRenderContext& kCtx)
{
	DestroyRHI(kCtx);
}

////////////////////////////////////////////////////////////////////////////////

u32 GfMaterialTemplate::GetBoundLayoutCount() const
{
	u32 uiCount(0);
	for (u32 i = 0; i < EMaterialParamRate::MaxBoundSets; ++i)
	{
		if (m_pLayouts[i]) 
		{
			uiCount++;
		}
	}
	return uiCount;
}

////////////////////////////////////////////////////////////////////////////////
// MaterialInstance

GfMaterialinstance::GfMaterialinstance()
	: m_pTemplate(nullptr)
{
	for (u32 i=0; i<EMaterialParamRate::MaxBoundSets; ++i) 
	{
		m_pBoundSets[i] = nullptr;
	}
}

////////////////////////////////////////////////////////////////////////////////

void GfMaterialinstance::BindParameterSet(GfMaterialParamSet* pSet)
{
	GF_ASSERT_ALWAYS("Implement Me");
}

////////////////////////////////////////////////////////////////////////////////
// EOF